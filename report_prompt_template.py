#!/usr/bin/env python
# coding: utf-8

# In[ ]:


# report_prompt_template.py

def get_report_prompt(report_type: str, format_type: str, title: str, keywords: list[str]) -> str:
    keyword_text = "\n".join(f"- {kw}" for kw in keywords)

    # 계획보고
    if report_type == "계획보고":
        if format_type == "사업계획서형":
            return f"""📄 제목: {title}

아래는 충주시 내부 보고용 사업계획 보고서입니다.  
각 항목은 번호로 구분하여 행정문서체 + 개괄식 종결형으로 작성하세요.

1. 사업개요  
 - 사 업 명 :  
 - 사업기간 :  
 - 예 산 액 :

2. 추진배경  
3. 추진내용  
4. 기대효과  
5. 행정적 필요성 및 실무 제언

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "예산중심형":
            return f"""📄 제목: {title}

예산확보 또는 집행계획 보고입니다.  
예산 중심 항목을 명확히 구분하고, 수치 기반으로 작성하세요.

1. 사업개요  
 - 사 업 명 :  
 - 총 예산액 :  
 - 연차별 예산 계획 :

2. 예산 편성 배경  
3. 주요 사용계획  
4. 예산 쟁점 및 검토사항  
5. 향후 추진일정

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "시행일정형":
            return f"""📄 제목: {title}

시행일정 중심 계획보고서입니다.  
단계별 일정 흐름과 추진내용을 중심으로 작성하세요.

1. 사업개요  
2. 단계별 추진 일정  
3. 일정별 주요 내용  
4. 일정상 리스크 및 대응계획  
5. 향후 일정 공유 및 실무 유의사항

📌 주요 키워드:
{keyword_text}
"""

    # 동향보고
    elif report_type == "동향보고":
        if format_type == "주간트렌드형":
            return f"""📄 제목: {title}

주간 동향 보고서 초안입니다.  
전체 흐름과 변화 요인을 중심으로 작성하세요.

1. 요약 개요  
2. 주요 동향 및 수치  
3. 배경 및 원인  
4. 대응 방향 및 협조사항  
5. 향후 모니터링 사항

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "상황분석형":
            return f"""📄 제목: {title}

이슈의 배경 및 원인 중심의 동향분석 보고서입니다.  
원인분석과 행정대응이 강조됩니다.

1. 발생 개요 및 현황  
2. 주요 원인 분석  
3. 수치 기반 경향 (있다면)  
4. 현재 대응 및 검토사항  
5. 향후 대응 계획

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "이슈집중형":
            return f"""📄 제목: {title}

단일 사건 또는 민원 이슈에 대한 집중 보고서입니다.  
시점·파급력·조치 중심으로 구성합니다.

1. 이슈 개요 (발생일시, 내용)  
2. 주요 경과 및 확산 경로  
3. 부서 대응 내용  
4. 시민 반응 또는 언론 동향  
5. 향후 대응 및 대응 메시지

📌 주요 키워드:
{keyword_text}
"""

    # 성과보고
    elif report_type == "성과보고":
        if format_type == "정량지표형":
            return f"""📄 제목: {title}

수치 기반 성과보고입니다.  
지표와 수치를 중심으로 정리하세요.

1. 사업개요  
 - 사업명 :  
 - 기간 :  
 - 예산 :

2. 주요 성과지표  
3. 실적 수치 및 비교  
4. 정성효과 및 기여도  
5. 향후 계획

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "협업성과형":
            return f"""📄 제목: {title}

부서 협업 기반 성과보고입니다.  
공동성과와 시너지 중심으로 구성합니다.

1. 사업개요  
2. 참여부서 및 역할  
3. 공동 추진성과  
4. 협업 효과 및 사례  
5. 향후 협업 확대방안

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "성과홍보형":
            return f"""📄 제목: {title}

성과를 요약·홍보하기 위한 간략 보고서입니다.  
성과의 가시성과 효과 중심으로 작성하세요.

1. 사업 개요  
2. 핵심 추진성과  
3. 수치 요약 및 주요 지표  
4. 부서 기여 및 홍보 포인트  
5. 향후 알릴 계획 또는 행사

📌 주요 키워드:
{keyword_text}
"""

    # 상황보고
    elif report_type == "상황보고":
        if format_type == "재난상황형":
            return f"""📄 제목: {title}

재난 또는 긴급상황 대응 보고서입니다.  
발생→조치→향후 계획 중심으로 작성하세요.

1. 발생개요  
 - 일시 :  
 - 장소 :  
 - 유형 :

2. 피해 및 영향 현황  
3. 긴급 대응 조치  
4. 후속 조치 및 복구계획  
5. 부서 협조사항

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "시설이상형":
            return f"""📄 제목: {title}

전산, 건물 등 시설 이상 발생 시 작성합니다.  
장애내용·조치내역 중심으로 작성하세요.

1. 이상 발생 개요  
2. 주요 증상 및 영향  
3. 대응 및 복구조치  
4. 원인 및 경과  
5. 향후 재발방지 방안

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "민원폭증형":
            return f"""📄 제목: {title}

특정 민원이 단기간 폭증했을 때 작성합니다.  
원인과 대응을 명확히 구분하여 작성하세요.

1. 민원 발생 개요  
2. 민원유형별 수치 및 변화  
3. 원인 분석  
4. 부서별 대응현황  
5. 향후 대응 및 제도 검토

📌 주요 키워드:
{keyword_text}
"""

    # 기타보고
    elif report_type == "기타보고":
        if format_type == "민원회신형":
            return f"""📄 제목: {title}

민원에 대한 공식 회신문 성격의 보고서입니다.  
처리내용을 명확히 설명하세요.

1. 민원 개요  
 - 접수일 :  
 - 민원유형 :

2. 민원 내용 요약  
3. 처리 결과  
4. 관련 근거 또는 규정  
5. 향후 안내사항

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "안내문형":
            return f"""📄 제목: {title}

시민대상 안내문용 보고서입니다.  
핵심정보와 전달사항을 항목화하세요.

1. 프로그램 개요  
2. 운영일정 및 장소  
3. 신청방법 및 대상  
4. 문의처 및 담당자  
5. 기타 안내사항

📌 주요 키워드:
{keyword_text}
"""

        elif format_type == "내부의견서형":
            return f"""📄 제목: {title}

부서 내부 검토 및 의견 전달용 보고서입니다.  
정책 제안·제도 검토 등 실무 의견을 담습니다.

1. 검토배경 및 필요성  
2. 관련 기준 및 타 지자체 사례  
3. 우리 부서 검토의견  
4. 실무상 제약 또는 유의사항  
5. 최종 의견 및 제안사항

📌 주요 키워드:
{keyword_text}
"""

    else:
        return f"[❗] '{report_type} / {format_type}' 유형에 대한 프롬프트가 정의되지 않았습니다."

